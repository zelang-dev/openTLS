<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   $OpenBSD: tls_client.3,v 1.4 2017/08/12 03:41:48 jsing Exp $
  
   Copyright (c) 2014 Ted Unangst <tedu@openbsd.org>
  
   Permission to use, copy, modify, and distribute this software for any
   purpose with or without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.
  
   THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
   WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
   MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
   ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
   WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
   ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
   OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>TLS_CLIENT(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TLS_CLIENT(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">TLS_CLIENT(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">tls_client</code>,
    <code class="Nm">tls_server</code>, <code class="Nm">tls_configure</code>,
    <code class="Nm">tls_reset</code>, <code class="Nm">tls_free</code> &#x2014;
    <span class="Nd">configure a TLS connection</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
  &lt;<a class="In">tls.h</a>&gt;</code></p>
<p class="Pp"><var class="Ft">struct tls *</var>
  <br/>
  <code class="Fn">tls_client</code>(<var class="Fa" style="white-space: nowrap;">void</var>);</p>
<p class="Pp"><var class="Ft">struct tls *</var>
  <br/>
  <code class="Fn">tls_server</code>(<var class="Fa" style="white-space: nowrap;">void</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">tls_configure</code>(<var class="Fa">struct tls *ctx</var>,
    <var class="Fa">struct tls_config *config</var>);</p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">tls_free</code>(<var class="Fa" style="white-space: nowrap;">struct
    tls *ctx</var>);</p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">tls_reset</code>(<var class="Fa" style="white-space: nowrap;">struct
    tls *ctx</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">A TLS connection is represented as a <var class="Vt">struct
    tls</var> object called a &#x201C;context&#x201D;. A new context is created
    by either the
    <a class="permalink" href="#tls_client"><code class="Fn" id="tls_client">tls_client</code></a>()
    or
    <a class="permalink" href="#tls_server"><code class="Fn" id="tls_server">tls_server</code></a>()
    functions. <code class="Fn">tls_client</code>() is used in TLS client
    programs, <code class="Fn">tls_server</code>() in TLS server programs.</p>
<p class="Pp" id="tls_configure">The context can then be configured with the
    function
    <a class="permalink" href="#tls_configure"><code class="Fn">tls_configure</code></a>().
    The same <var class="Vt">tls_config</var> object can be used to configure
    multiple contexts.</p>
<p class="Pp" id="tls_client~2">After configuration,
    <a class="Xr">tls_connect(3)</a> can be called on objects created with
    <a class="permalink" href="#tls_client~2"><code class="Fn">tls_client</code></a>(),
    and <a class="Xr">tls_accept_socket(3)</a> on objects created with
    <a class="permalink" href="#tls_server~2"><code class="Fn" id="tls_server~2">tls_server</code></a>().</p>
<p class="Pp" id="tls_free">After use, a TLS context should be closed with
    <a class="Xr">tls_close(3)</a>, and then freed by calling
    <a class="permalink" href="#tls_free"><code class="Fn">tls_free</code></a>().
    If <code class="Fn">tls_free</code>() is called with an argument of
    <code class="Dv">NULL</code>, no action occurs.</p>
<p class="Pp" id="tls_reset">A TLS context can be reset by calling
    <a class="permalink" href="#tls_reset"><code class="Fn">tls_reset</code></a>(),
    allowing for it to be reused. This is essentially equivalent to calling
    <code class="Fn">tls_free</code>(), followed by a call to the same function
    that was used to originally allocate the TLS context.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<p class="Pp"><code class="Fn">tls_client</code>() and
    <code class="Fn">tls_server</code>() return <code class="Dv">NULL</code> on
    error or an out of memory condition.</p>
<p class="Pp"><code class="Fn">tls_configure</code>() returns 0 on success or -1
    on error.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">tls_accept_socket(3)</a>,
    <a class="Xr">tls_config_new(3)</a>, <a class="Xr">tls_connect(3)</a>,
    <a class="Xr">tls_init(3)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">These functions appeared in <span class="Ux">OpenBSD 5.6</span>
    and got their final names in <span class="Ux">OpenBSD 5.7</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp"><span class="An">Joel Sing</span>
    &lt;<a class="Mt" href="mailto:jsing@openbsd.org">jsing@openbsd.org</a>&gt;</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">August 12, 2017</td>
    <td class="foot-os">Debian</td>
  </tr>
</table>
</body>
</html>
